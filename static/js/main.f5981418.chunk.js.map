{"version":3,"sources":["Components/Image.js","Components/ModalImage.js","Components/Gallery.js","App.js","index.js"],"names":["Image","url","title","setShow","setUrl","className","onClick","e","src","alt","ModalImage","show","handleHide","Modal","onHide","Body","style","height","width","objectFit","Gallery","photos","console","log","useState","size","showImage","setShowImage","showUrl","setShowUrl","map","pic","index","img","server","id","secret","App","search","setSearch","searchTerm","setSearchTerm","images","setImages","page","setPage","perPage","loadImage","setLoadImage","useEffect","a","axios","get","then","response","data","catch","err","prev","photo","fetchImages","window","addEventListener","document","querySelector","offsetHeight","innerHeight","scrollY","value","onChange","target","type","placeholder","preventDefault","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f5981418.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"./Image.css\";\r\n\r\nfunction Image({ url, title, setShow, setUrl }) {\r\n    return (\r\n        <div\r\n            className=\"image\"\r\n            onClick={(e) => {\r\n                setShow(true);\r\n                setUrl(url);\r\n            }}\r\n        >\r\n            <img src={url && url} alt=\"\" />\r\n\r\n            {title && (\r\n                <div className=\"image__content\">\r\n                    <p>{title}</p>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Image;\r\n","import React from \"react\";\r\nimport { Modal, ModalBody } from \"react-bootstrap\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nfunction ModalImage({ show, setShow, url, title }) {\r\n    const handleHide = () => {\r\n        setShow(false);\r\n    };\r\n\r\n    return (\r\n        <Modal show={show} onHide={handleHide}>\r\n            <Modal.Body>\r\n                <button\r\n                    className=\"btn btn-danger close-btn\"\r\n                    onClick={handleHide}\r\n                >\r\n                    x\r\n                </button>\r\n                <img\r\n                    src={url && url}\r\n                    alt=\"\"\r\n                    style={{\r\n                        height: \"100%\",\r\n                        width: \"100%\",\r\n                        objectFit: \"contain\",\r\n                    }}\r\n                />\r\n            </Modal.Body>\r\n        </Modal>\r\n    );\r\n}\r\n\r\nexport default ModalImage;\r\n","import React, { useState } from \"react\";\r\nimport \"./Gallery.css\";\r\nimport Image from \"./Image\";\r\nimport ModalImage from \"./ModalImage\";\r\n\r\nfunction Gallery({ photos }) {\r\n    console.log(photos);\r\n    const [size, setSize] = useState(\"b\");\r\n    const [showImage, setShowImage] = useState(false);\r\n    const [showUrl, setShowUrl] = useState(\"\");\r\n\r\n    const buildImageUrl = (img) => {\r\n        return `https://live.staticflickr.com/${img.server}/${img.id}_${img.secret}_${size}.jpg`;\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div className=\"gallery\">\r\n                {photos?.map((pic, index) => (\r\n                    <Image\r\n                        key={index}\r\n                        title={pic?.title}\r\n                        url={buildImageUrl(pic)}\r\n                        setShow={setShowImage}\r\n                        setUrl={setShowUrl}\r\n                    />\r\n                ))}\r\n            </div>\r\n            <ModalImage show={showImage} setShow={setShowImage} url={showUrl} />\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Gallery;\r\n","import { useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport Gallery from \"./Components/Gallery\";\nimport axios from \"axios\";\n\nfunction App() {\n    const [search, setSearch] = useState(false);\n    const [searchTerm, setSearchTerm] = useState(\"\");\n    const [images, setImages] = useState([]);\n    const [page, setPage] = useState(1);\n    const [perPage, setPerPage] = useState(15);\n    const [loadImage, setLoadImage] = useState(true);\n\n    useEffect(() => {\n        const fetchImages = async () => {\n            let url;\n            if (search && searchTerm) {\n                url = `https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key=d93302efafff22b55721f049b8f47cf2&tags=${searchTerm}&page=${page}&per_page=${perPage}&format=json&nojsoncallback=1`;\n                console.log(url);\n            } else {\n                url = `https://api.flickr.com/services/rest/?method=flickr.photos.getRecent&api_key=d93302efafff22b55721f049b8f47cf2&page=${page}&per_page=${perPage}&format=json&nojsoncallback=1`;\n            }\n\n            const data = await axios\n                .get(url)\n                .then((response) => {\n                    console.log(response);\n                    return response.data?.photos;\n                })\n                .catch((err) => console.log(err));\n\n            if (page !== 1) {\n                setImages((prev) => [...prev, ...data.photo]);\n            } else {\n                setImages(data.photo);\n            }\n            setPage(page + 1);\n            setLoadImage(false);\n        };\n\n        if (loadImage) {\n            fetchImages();\n        }\n    }, [loadImage, search]);\n\n    useEffect(() => {\n        if (searchTerm === \"\") {\n            setSearch(false);\n        }\n    }, [searchTerm]);\n\n    useEffect(() => {\n        window.addEventListener(\"scroll\", () => {\n            const container = document.querySelector(\".gallery\");\n\n            if (\n                container.offsetHeight <=\n                window.innerHeight + window.scrollY - 120\n            ) {\n                setLoadImage(true);\n            }\n        });\n    }, []);\n\n    return (\n        <div className=\"app\">\n            <header>\n                <h2 className=\"fw-bold\">Gallery</h2>\n            </header>\n            <main>\n                <form className=\"input-group mb-3 w-75\">\n                    <input\n                        value={searchTerm}\n                        onChange={(e) => setSearchTerm(e.target.value)}\n                        type=\"text\"\n                        className=\"form-control\"\n                        placeholder=\"Enter search term\"\n                        aria-label=\"Search\"\n                    />\n                    <button\n                        type=\"submit\"\n                        className=\"input-group-text btn btn-primary fw-bold\"\n                        onClick={(e) => {\n                            e.preventDefault();\n                            setLoadImage(true);\n                            setSearch(true);\n                            setPage(1);\n                        }}\n                    >\n                        Search\n                    </button>\n                </form>\n                <Gallery photos={images} />\n            </main>\n            <footer>\n                <p>Made with â™¡ by Ashfaq </p>\n            </footer>\n        </div>\n    );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}